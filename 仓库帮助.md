Git 完整操作手册
一、Git 核心概念
1.1 三大区域
text
工作区 (Working Directory)    - 您正在编辑的文件
暂存区 (Staging Area)         - 准备提交的文件快照
本地仓库 (Local Repository)   - 提交的历史记录（在 .git/ 目录）
远程仓库 (Remote Repository)  - GitHub/GitLab 等云端仓库
1.2 文件状态生命周期
text
未跟踪 (Untracked) → 已修改 (Modified) → 已暂存 (Staged) → 已提交 (Committed)
        ↑                                  ↓
        └─────────── 放弃更改 ←───────────┘
二、本地仓库操作
2.1 初始化与配置
bash
# 初始化新仓库
git init

# 配置用户信息（必须！）
git config --global user.name "您的名字"
git config --global user.email "您的邮箱@example.com"

git config --global user.name "wang"
git config --global user.email "368138461@qq.com"



# 查看配置
git config --list
2.2 基础文件操作
bash
# 查看状态
git status
git status -s          # 简洁模式

# 添加文件到暂存区
git add 文件名                  # 添加单个文件
git add 目录/                  # 添加整个目录
git add .                     # 添加所有修改
git add *.js                  # 添加所有js文件

# 提交到本地仓库
git commit -m "提交.gitignore"
git commit -m "标题" -m "详细描述"  # 多行描述

# 查看提交历史
git log
git log --oneline            # 简洁显示
git log --oneline --graph    # 图形化显示
git log -p                   # 显示具体修改内容
2.3 撤销与恢复
bash
# 恢复工作区文件（未git add）
git checkout -- 文件名

# 从暂存区移除（已git add）
git reset HEAD 文件名

# 修改上次提交（未push时）
git commit --amend -m "新的提交信息"

# 恢复文件到指定版本
git checkout 提交ID -- 文件名

# 查看所有操作记录（后悔药）
git reflog
2.4 分支管理
bash
# 查看分支
git branch                  # 本地分支
git branch -a               # 所有分支（包括远程）
git branch -v               # 带最后提交信息

# 创建分支
git branch 分支名           # 创建但不切换
git checkout -b 分支名      # 创建并切换
git switch -c 分支名        # 新命令（Git 2.23+）

# 切换分支
git checkout 分支名
git switch 分支名

# 合并分支
git merge 分支名

# 删除分支
git branch -d 分支名        # 安全删除（已合并）
git branch -D 分支名        # 强制删除（未合并）

# 重命名分支
git branch -m 旧名 新名
2.5 .gitignore 配置
gitignore
# 示例：uni-app项目
node_modules/           # 依赖目录
unpackage/             # uni-app构建目录
dist/                  # 构建输出
.env                   # 环境变量
.DS_Store              # 系统文件
.vscode/               # 编辑器配置
.idea/
*.log                  # 日志文件

# 提交.gitignore文件本身！
三、远程仓库操作
3.1 连接远程仓库
bash
# 克隆远程仓库（首次获取）
git clone https://github.com/用户名/仓库名.git
git clone git@github.com:用户名/仓库名.git  # SSH方式

# 添加远程仓库
git remote add origin 远程仓库URL

# 查看远程仓库
git remote -v

# 修改远程仓库URL
git remote set-url origin 新URL

# 移除远程仓库
git remote remove origin
3.2 推送与拉取
bash
# 推送到远程仓库
git push origin 分支名
git push -u origin 分支名  # 首次推送，设置上游分支
git push                  # 简写（已设置上游）

# 从远程拉取
git pull origin 分支名
git pull                  # 简写（已设置上游）

# 仅获取远程更新（不合并）
git fetch origin
git fetch --all          # 获取所有远程更新

# 强制推送（谨慎使用！）
git push origin 分支名 --force
git push origin 分支名 --force-with-lease  # 更安全
3.3 远程分支管理
bash
# 查看远程分支
git branch -r

# 拉取远程分支到本地
git checkout -b 本地分支名 origin/远程分支名

# 删除远程分支
git push origin --delete 分支名

# 跟踪远程分支
git branch -u origin/分支名  # 设置当前分支跟踪
git branch --track 分支名 origin/分支名  # 新建时跟踪
四、团队协作工作流
4.1 标准工作流程
bash
# 每日工作开始
git pull origin main          # 1. 拉取最新代码
git status                    # 2. 查看状态

# 开发功能
# 3. 创建功能分支
git checkout -b feature/功能名

# 4. 开发并提交
git add .
git commit -m "功能开发"
# 重复多次...

# 5. 推送到远程
git push -u origin feature/功能名

# 6. 创建Pull Request（在GitHub网页操作）

# 7. 合并后清理
git checkout main
git pull origin main          # 获取合并后的代码
git branch -d feature/功能名   # 删除本地分支
4.2 冲突解决
bash
# 拉取时出现冲突
git pull origin main
# 显示：CONFLICT (content): Merge conflict in 文件名

# 查看冲突文件
git status

# 手动解决冲突（编辑文件）
<<<<<<< HEAD
您的代码
=======
别人的代码
>>>>>>> branch-name

# 标记冲突已解决
git add 冲突文件

# 完成合并
git commit -m "解决合并冲突"
五、高级操作
5.1 储藏（Stash）
bash
# 临时保存修改
git stash save "描述信息"
git stash                    # 简写

# 查看储藏列表
git stash list

# 恢复储藏
git stash apply stash@{0}   # 恢复但不删除
git stash pop               # 恢复并删除

# 删除储藏
git stash drop stash@{0}
git stash clear             # 删除所有
5.2 标签（Tag）
bash
# 创建标签
git tag v1.0.0              # 轻量标签
git tag -a v1.0.0 -m "版本描述"  # 附注标签

# 查看标签
git tag
git show v1.0.0

# 推送标签到远程
git push origin v1.0.0
git push origin --tags      # 推送所有标签

# 删除标签
git tag -d v1.0.0
git push origin --delete v1.0.0
5.3 二分查找（调试）
bash
# 查找引入bug的提交
git bisect start
git bisect bad              # 当前版本有问题
git bisect good 提交ID       # 这个版本是好的
# Git会自动二分测试，您只需标记good/bad
git bisect reset            # 结束后重置
六、实用技巧
6.1 别名配置
bash
# 添加到 ~/.gitconfig
[alias]
    co = checkout
    br = branch
    ci = commit
    st = status
    lg = log --oneline --graph --all
    last = log -1 HEAD
    unstage = reset HEAD --
6.2 清理仓库
bash
# 移除已忽略的跟踪文件
git rm -r --cached .
git add .
git commit -m "清理.gitignore文件"

# 清理未跟踪文件
git clean -n               # 预览将要删除的文件
git clean -f               # 强制删除未跟踪文件
git clean -fd              # 删除未跟踪文件和目录
6.3 比较差异
bash
# 比较工作区和暂存区
git diff

# 比较暂存区和最新提交
git diff --staged
git diff --cached

# 比较两个提交
git diff 提交ID1 提交ID2

# 比较两个分支
git diff 分支1..分支2
七、GitHub 特定操作
7.1 GitHub CLI 工具
bash
# 安装后使用
gh auth login              # 登录GitHub
gh repo clone 用户名/仓库名  # 克隆仓库
gh pr create               # 创建Pull Request
gh issue create            # 创建Issue
7.2 SSH 密钥配置
bash
# 生成SSH密钥
ssh-keygen -t ed25519 -C "邮箱@example.com"

# 复制公钥到剪贴板
cat ~/.ssh/id_ed25519.pub | clip  # Windows
pbcopy < ~/.ssh/id_ed25519.pub    # Mac

# 添加到GitHub：Settings → SSH and GPG keys
八、故障排除
8.1 常见错误及解决
bash
# 错误：文件已存在
git rm -f 文件名

# 错误：合并冲突
git merge --abort          # 取消合并

# 错误：提交到错误分支
git reset --soft HEAD~1    # 撤销提交保留修改
git checkout 正确分支
git commit -m "提交信息"

# 错误：推送被拒绝
git pull --rebase origin 分支名
git push origin 分支名
8.2 恢复丢失的提交
bash
# 查看所有操作记录
git reflog

# 恢复指定提交
git reset --hard 提交ID

# 恢复被删除的分支
git checkout -b 分支名 提交ID
九、最佳实践
9.1 提交规范
text
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式
refactor: 代码重构
test: 测试相关
chore: 构建过程或辅助工具
9.2 分支命名规范
text
feature/用户登录        # 新功能
bugfix/登录错误         # bug修复
hotfix/紧急修复         # 线上紧急修复
release/v1.0.0         # 发布分支
9.3 工作黄金法则
提交前：先 git pull 更新本地

提交时：写有意义的提交信息

提交后：立即 git push 备份

冲突时：先沟通，再解决

下班前：确保所有工作已推送

十、快速参考命令卡
bash
# === 每日必用 ===
git status                # 查看状态
git add .                 # 添加所有修改
git commit -m "描述"      # 提交
git push                  # 推送
git pull                  # 拉取

# === 每周常用 ===
git branch                # 查看分支
git checkout 分支名       # 切换分支
git merge 分支名          # 合并分支
git log --oneline -10     # 查看历史

# === 每月偶尔 ===
git stash                 # 临时保存
git tag                   # 打标签
git rebase                # 变基
git cherry-pick           # 挑选提交
附录：Git 工作原理图
text
工作区 → git add → 暂存区 → git commit → 本地仓库 → git push → 远程仓库
   ↑          ↓           ↓           ↓           ↑
   └── checkout ── reset ── reset ── checkout ── pull ──┘
记住：Git 是工具，多练习才能熟练。遇到问题：

git status 查看状态

git help 命令 查看帮助

搜索引擎查找解决方案

实验前先用 git stash 保存当前工作

本回答由 AI 生成，内容仅供参考，请仔细甄别。
